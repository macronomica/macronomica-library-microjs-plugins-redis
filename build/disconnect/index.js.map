{"version":3,"sources":["../../src/disconnect/index.js"],"names":["app","plugin","client","Promise","resolve","reject","closing","quit","log","info","id","emit"],"mappings":";;;;;;AAAA;;kBAEe,CAACA,GAAD,EAAMC,MAAN,EAAcC,MAAd,KAAyB,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACvE,MAAI,CAACH,MAAD,IAAWA,OAAOI,OAAtB,EAA+B;AAC7B,WAAOF,SAAP;AACD;;AAEDF,SAAOK,IAAP,CAAY,MAAM;AAChBP,QAAIQ,GAAJ,CAAQC,IAAR,CAAc,+BAAd,EAA8C;AAC5CC,UAAIT,OAAOS;AADiC,KAA9C;;AAIAV,QAAIW,IAAJ,+BAA4B,IAA5B;AACAP,YAAQ,IAAR;AACD,GAPD;AAQD,CAbuC,C","file":"index.js","sourcesContent":["import { EVENTS_DISCONNECT } from './../constants';\n\nexport default (app, plugin, client) => new Promise((resolve, reject) => {\n  if (!client || client.closing) {\n    return resolve();\n  }\n  \n  client.quit(() => {\n    app.log.info(`Подключение к Redis разорвано`, {\n      id: plugin.id\n    });\n\n    app.emit(EVENTS_DISCONNECT, null);\n    resolve(null);\n  });\n});"]}