{"version":3,"sources":["../../src/disconnect/index.js"],"names":["app","plugin","Promise","resolve","reject","client","closing","quit","log","info","id","emit"],"mappings":";;;;;;AAAA;;kBAEe,CAACA,GAAD,EAAMC,MAAN,KAAiB,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/D,QAAMC,SAASJ,OAAOI,MAAtB;;AAEA,MAAI,CAACA,MAAD,IAAWA,OAAOC,OAAtB,EAA+B;AAC7B,WAAOH,SAAP;AACD;;AAEDE,SAAOE,IAAP,CAAY,MAAM;AAChBP,QAAIQ,GAAJ,CAAQC,IAAR,CAAc,+BAAd,EAA8C;AAC5CC,UAAIT,OAAOS;AADiC,KAA9C;;AAIAV,QAAIW,IAAJ,+BAA4B,IAA5B;AACAR,YAAQ,IAAR;AACD,GAPD;AAQD,CAf+B,C","file":"index.js","sourcesContent":["import { EVENTS_DISCONNECT } from './../constants';\n\nexport default (app, plugin) => new Promise((resolve, reject) => {\n  const client = plugin.client;\n  \n  if (!client || client.closing) {\n    return resolve();\n  }\n  \n  client.quit(() => {\n    app.log.info(`Подключение к Redis разорвано`, {\n      id: plugin.id\n    });\n\n    app.emit(EVENTS_DISCONNECT, null);\n    resolve(null);\n  });\n});"]}