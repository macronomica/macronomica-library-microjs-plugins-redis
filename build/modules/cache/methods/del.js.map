{"version":3,"sources":["../../../../src/modules/cache/methods/del.js"],"names":["ERROR_INFO","module","action","plugin","request","key","Promise","reject","property","client","del","catch","err","log","error"],"mappings":";;;;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;;;AAEA,MAAMA,aAAa,EAAEC,8BAAF,EAAuBC,kCAAvB,EAAnB;;AAEA;;;;;;;kBAMgBC,MAAD,IAAaC,OAAD,IAAa;AAAA,QAC9BC,GAD8B,GACtBD,OADsB,CAC9BC,GAD8B;;AAEtC,MAAI,CAAC,sBAASA,GAAT,CAAD,IAAkBA,QAAQ,EAA1B,IAA+BA,QAAQ,GAA3C,EAAgD;AAC9C,WAAOC,QAAQC,MAAR,CAAe,oDAA6BP,UAA7B,IAAyCQ,UAAU,KAAnD,IAAf,CAAP;AACD;;AAED,SAAOL,OAAOM,MAAP,CAAcC,GAAd,CAAkBL,GAAlB,EACJM,KADI,CACEC,OAAO;AACZR,YAAQS,GAAR,CAAYC,KAAZ,CAAkBF,GAAlB;AACA,WAAON,QAAQC,MAAR,CAAe,6BAAcH,OAAd,EAAuBQ,GAAvB,EAA4BZ,UAA5B,CAAf,CAAP;AACD,GAJI,CAAP;AAKD,C","file":"del.js","sourcesContent":["import isString from 'lodash.isstring';\nimport { MODULE_NAME, ACTION_NAME_DEL } from '../constants';\nimport internalError from '../../../errors/internal-error';\nimport propertyIsRequiredError from '../../../errors/property-is-required-error';\n\nconst ERROR_INFO = { module: MODULE_NAME, action: ACTION_NAME_DEL };\n\n/**\n * Устанавливает значения ключа в кеш\n *\n * @param {object} plugin         Экземпляр плагина\n * @returns {function({key?: *, setCb?: *, tags?: *}): Promise}\n */\nexport default (plugin) => (request) => {\n  const { key } = request;\n  if (!isString(key) || key === ''|| key === '*') {\n    return Promise.reject(propertyIsRequiredError({ ...ERROR_INFO, property: 'key' }));\n  }\n  \n  return plugin.client.del(key)\n    .catch(err => {\n      request.log.error(err);\n      return Promise.reject(internalError(request, err, ERROR_INFO));\n    });\n};"]}